# Mapeamento para importação de arquivo "Entrada"
# Define como as entradas de estoque serão processadas

file_type: "entry"
description: "Entradas de estoque"
encoding: "utf-8"
delimiter: ";"
skip_rows: 2

column_mappings:
  "Item": "name"
  "Serial Number/Service Tag": "serial_number"
  "Patrimônio": "asset_tag"
  "Quantidade": "quantity"
  "Data de Entrada": "entry_date"
  "Ticket": "ticket_number"
  "Observação/Recebido por:": "received_by"
  "Item encontrado na Drop List?": "found_in_list"

validations:
  - field: "name"
    required: true
    type: "string"
  
  - field: "quantity"
    required: true
    type: "integer"
    min: 1
  
  - field: "entry_date"
    required: true
    type: "date"
    formats: ["DD/MM/YYYY", "YYYY-MM-DD"]
  
  - field: "serial_number"
    required: false
    type: "string"
    skip_if: ["N/A", "n/a", ""]
  
  - field: "asset_tag"
    required: false
    type: "string"
    skip_if: ["N/A", "n/a", ""]

transformations:
  - field: "serial_number"
    transform: "normalize_empty"
    null_values: ["N/A", "n/a", ""]
  
  - field: "asset_tag"
    transform: "normalize_empty"
    null_values: ["N/A", "n/a", ""]
  
  - field: "entry_date"
    transform: "parse_date"
    format: "DD/MM/YYYY"
  
  - field: "quantity"
    transform: "integer"

# Criar movimentação de entrada automaticamente
create_movement: true
movement_type: "CHECK_IN"
default_location: "Almoxarifado TI"
